<script>
$(function () {
	/**
	 * This initializes the Redactor editor with the integration
	 * points/plugins that tie into Elefant's pages, files, and
	 * dynamic objects embedding.
	 */

	$('#{{ field_id }}')
		.removeAttr ('cols')
		.removeAttr ('rows')
		.redactor ({
			lang: '{{i18n.language|none}}',
			plugins: ['imagebrowser', 'filebrowser', 'dynamic'],
			buttons: [
				'formatting', '|', 'bold', 'italic', 'deleted', '|',
				'alignment', 'horizontalrule', '|', 'unorderedlist', 'orderedlist', 'outdent', 'indent', '|',
				'link', 'imagebrowser', 'filebrowser', 'table', '|',
				'undo', 'html', 'dynamic'
			],
			buttonsCustom: {
				undo: {
					title: '{"Undo"}',
					dropdown: {
						point1: {
							title: '{"Undo"}',
							callback: undo
						},
						point2: {
							title: '{"Redo"}',
							callback: redo
						}
					}
				}
			}
		});

	function undo (obj, evt, key) {
		obj.exec.command.call (obj, 'undo');
	}

	function redo (obj, evt, key) {
		obj.exec.command.call (obj, 'redo');
	}
});
</script>
